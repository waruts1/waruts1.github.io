<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Collins Warutumo</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/heroicons@2.0.16/dist/24/outline/heroicons.min.js" defer></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            background: "#f9fafb",
            border: "#e5e7eb",
            primary: "#2563eb",
            "primary-foreground": "#ffffff",
            "muted-foreground": "#6b7280"
          },
          boxShadow: {
            card: "0 2px 8px rgba(0,0,0,0.08)",
            "card-hover": "0 4px 16px rgba(0,0,0,0.12)",
          },
          backgroundImage: {
            'hero-gradient': 'linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)',
            'section-gradient': 'linear-gradient(to top, #f3f4f6, #ffffff)',
          }
        }
      }
    };
  </script>
  <link rel="icon" href="/94432219.jpg" type="image/x-icon" />
  <style>
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>

<body class="bg-background text-gray-900 font-sans">

  <header class="text-center py-20 bg-hero-gradient text-white">
    <h1 id="name" class="text-5xl font-bold mb-4"></h1>
    <p id="tagline" class="text-xl text-white/90 mb-4"></p>
    <nav class="flex justify-center gap-6 text-white/80">
      <a href="#about" class="hover:text-white transition">About</a>
      <a href="#experience" class="hover:text-white transition">Experience</a>
      <a href="#projects" class="hover:text-white transition">Projects</a>
      <a href="#skills" class="hover:text-white transition">Skills</a>
      <a href="#education" class="hover:text-white transition">Education</a>
      <a href="#contact" class="hover:text-white transition">Contact</a>
    </nav>
  </header>

  <main class="max-w-4xl mx-auto px-4">

    <section id="about" class="mt-12 mb-16">
      <h2 class="text-3xl font-bold mb-6 text-center">About Me</h2>
      <div class="bg-white shadow-card hover:shadow-card-hover rounded-xl p-6 transition-all">
        <p id="about-text" class="text-muted-foreground leading-relaxed"></p>
      </div>
    </section>

    <section id="experience" class="mb-16">
      <h2 class="text-3xl font-bold mb-6 text-center">Experience</h2>
      <div id="experience-container" class="space-y-6"></div>
    </section>

    <section id="projects" class="mb-16">
      <h2 class="text-3xl font-bold mb-6 text-center">Featured Projects</h2>
      <div id="projects-container" class="grid md:grid-cols-2 gap-6"></div>
    </section>

    <section id="skills" class="mb-16">
      <h2 class="text-3xl font-bold mb-6 text-center">Skills</h2>
      <div class="bg-white rounded-xl p-6 shadow-card hover:shadow-card-hover">
        <div id="skills-container" class="flex flex-wrap gap-3 justify-center"></div>
      </div>
    </section>

    <section id="education" class="mb-16">
      <h2 class="text-3xl font-bold mb-6 text-center">Education</h2>
      <div id="education-container" class="bg-white rounded-xl p-6 shadow-card hover:shadow-card-hover"></div>
    </section>

    <section id="contact" class="mb-16">
      <h2 class="text-3xl font-bold mb-6 text-center">Contact</h2>

      <!-- Contact Card -->
      <div class="bg-white rounded-xl p-6 shadow hover:shadow-lg text-center">
        <p class="mb-2 flex justify-center items-center gap-2">
          <!-- Heroicon Mail -->
          <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25H4.5A2.25 2.25 0 012.25 17.25V6.75M21.75 6.75L12 13.5 2.25 6.75" />
          </svg>
          <a href="#" id="email-link" class="text-primary underline">Email</a>
        </p>
        <p class="mb-4 flex justify-center items-center gap-2">
          <!-- Heroicon LinkedIn (custom SVG or use <i> tag if needed) -->
          <svg class="w-5 h-5 text-primary" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
            <path
              d="M4.98 3.5C3.88 3.5 3 4.38 3 5.5s.88 2 1.98 2A1.99 1.99 0 0 0 6.96 5.5c0-1.12-.88-2-1.98-2zM3 8.98h4v12H3zm7.5 0h3.6v1.6h.05c.5-.95 1.8-1.95 3.7-1.95 4 0 4.75 2.6 4.75 6v6.35h-4v-5.6c0-1.35-.02-3.1-2-3.1-2 0-2.3 1.5-2.3 3v5.7h-4v-12z" />
          </svg>
          <a href="#" id="linkedin-link" class="text-primary underline">LinkedIn</a>
        </p>

        <!-- Trigger Modal -->
        <button id="openModal" class="mt-4 bg-primary text-white px-6 py-2 rounded hover:bg-primary/90 transition">
          Contact Me
        </button>
      </div>

      <!-- Modal -->
      <div id="contactModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 w-full max-w-md relative shadow-lg">
          <!-- Close button -->
          <button id="closeModal" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>

          <h3 class="text-xl font-semibold mb-4">Send a Message</h3>
          <form action="https://formspree.io/f/xzzgnjdy" method="POST" class="space-y-4">
            <input type="text" name="name" required placeholder="Your Name" class="w-full border rounded px-4 py-2" />
            <input type="email" name="_replyto" required placeholder="Your Email"
              class="w-full border rounded px-4 py-2" />
            <textarea name="message" required placeholder="Your Message"
              class="w-full border rounded px-4 py-2"></textarea>
            <button type="submit" class="w-full bg-primary text-white px-4 py-2 rounded hover:bg-primary/90 transition">
              Send Message
            </button>
            <input type="text" name="_gotcha" style="display:none">
          </form>
        </div>
      </div>
    </section>


  </main>

  <footer class="bg-section-gradient border-t border-border py-8 text-center">
    <p id="copyright" class="text-muted-foreground text-sm"></p>
  </footer>

  <script>

    // Visitor ID + tracking
    function getOrCreateVisitorId() {
      let id = localStorage.getItem("visitorId");
      if (!id) {
        id = crypto.randomUUID?.() || Math.random().toString(36).substring(2);
        localStorage.setItem("visitorId", id);
      }
      return id;
    }
    function sendVisitData() {
      const visitorId = getOrCreateVisitorId();
      fetch("https://smilescafe.co.ke/api/v1/telegram", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          visitorId,
          timestamp: new Date().toISOString(),
          url: document.referrer || window.location.href,
          pageTitle: document.title,
          userAgent: navigator.userAgent,
          referrer: document.referrer
        })
      });
    }
    window.addEventListener("load", sendVisitData);

    // Profile Data Fetch
    fetch("https://waruts1.github.io/data/profile.json")
      .then(res => res.json())
      .then(data => {
        document.getElementById("name").textContent = data.name;
        document.getElementById("tagline").textContent = data.tagline;
        document.getElementById("about-text").textContent = data.about;

        const experienceDiv = document.getElementById("experience-container");
        data.experience.forEach(job => {
          const div = document.createElement("div");
          div.className = "bg-white shadow-card hover:shadow-card-hover rounded-xl p-6";
          div.innerHTML = `
            <h3 class="text-xl font-semibold mb-2">${job.title}</h3>
            <p class="text-primary font-medium mb-2">${job.company} | ${job.dates}</p>
            <ul class="list-disc ml-5 text-muted-foreground">${job.responsibilities.map(r => `<li>${r}</li>`).join("")}</ul>
            ${job.achievements ? `<h4 class="mt-4 font-medium">Achievements</h4><ul class="list-disc ml-5 text-muted-foreground">${job.achievements.map(a => `<li>${a}</li>`).join("")}</ul>` : ""}
          `;
          experienceDiv.appendChild(div);
        });

        const projectsDiv = document.getElementById("projects-container");
        (data.projects || []).forEach(project => {
          const div = document.createElement("div");
          div.className = "bg-white shadow-card hover:shadow-card-hover rounded-xl p-6";

          const techBadges = (project.tech || [])
            .map(tech => `<span class="inline-block bg-primary/10 text-primary text-xs px-2 py-1 rounded mr-2 mb-2">${tech}</span>`)
            .join("");

          div.innerHTML = `
    <h3 class="text-xl font-semibold mb-2">${project.name}</h3>
    <p class="text-muted-foreground mb-4">${project.description}</p>
    <div class="flex flex-wrap mb-4">${techBadges}</div>
    <div class="flex gap-2">
      <a href="${project.github || '#'}" target="_blank" class="flex-1 inline-flex items-center justify-center border border-border px-3 py-2 rounded text-sm hover:bg-muted">
        <svg class="h-4 w-4 mr-2" fill="currentColor" viewBox="0 0 24 24"><path d="M12 .5C5.5.5 0 6 0 12.3c0 5.2 3.4 9.6 8.2 11.2.6.1.8-.2.8-.5v-2c-3.3.7-4-1.5-4-1.5-.5-1.3-1.1-1.6-1.1-1.6-.9-.7.1-.7.1-.7 1 .1 1.5 1.1 1.5 1.1.9 1.5 2.4 1.1 3 .8.1-.6.4-1.1.7-1.4-2.6-.3-5.2-1.4-5.2-6.1 0-1.3.4-2.4 1.1-3.3-.1-.3-.5-1.6.1-3.3 0 0 .9-.3 3.4 1.2a11.6 11.6 0 0 1 6.3 0c2.5-1.5 3.4-1.2 3.4-1.2.6 1.7.2 3 .1 3.3.7.9 1.1 2 1.1 3.3 0 4.8-2.7 5.8-5.2 6.1.4.4.8 1 .8 2v3c0 .3.2.6.8.5A12 12 0 0 0 24 12.3C24 6 18.5.5 12 .5z"/></svg>
        Code
      </a>
      <a href="${project.url}" target="_blank" class="flex-1 inline-flex items-center justify-center bg-primary text-white px-3 py-2 rounded text-sm hover:bg-primary/90">
        <svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M14 3h7v7m-1.5-5.5L10 17m-4 0h5v5"/></svg>
        Demo
      </a>
    </div>
  `;

          projectsDiv.appendChild(div);
        });


        const skillsDiv = document.getElementById("skills-container");
        data.skills.forEach(skill => {
          const span = document.createElement("span");
          span.className = "px-4 py-2 bg-primary/10 text-primary rounded-full text-sm";
          span.textContent = skill;
          skillsDiv.appendChild(span);
        });

        const eduDiv = document.getElementById("education-container");
        eduDiv.innerHTML = ''; // Clear existing content

        data.education.forEach(edu => {
          const div = document.createElement("div");
          div.className = "mb-4";
          div.innerHTML = `
    <h3 class="text-xl font-semibold mb-1">${edu.degree}</h3>
    <p class="text-primary font-medium">${edu.institution}</p>
    ${edu.year ? `<p class="text-muted-foreground text-sm">${edu.year}</p>` : ''}
  `;
          eduDiv.appendChild(div);
        });
        document.getElementById("email-link").textContent = data.contact.email;
        document.getElementById("email-link").href = `mailto:${data.contact.email}`;
        document.getElementById("linkedin-link").textContent = data.contact.linkedin;
        document.getElementById("linkedin-link").href = data.contact.linkedin;

        document.getElementById("copyright").textContent =
          `Â© ${new Date().getFullYear()} ${data.name}. All rights reserved.`;
      });
  </script>
</body>

</html>